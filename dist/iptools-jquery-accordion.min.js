/*! iptools-jquery-accordion - v0.1.1 - 2016-02-18
* https://github.com/interactive-pioneers/iptools-jquery-accordion
* Copyright Â© 2016 Interactive Pioneers GmbH; Licensed GPL */
!function(a){"use strict";function b(b,c){this.$element=a(b),this.settings=a.extend({},f,c),this._defaults=f,this._name=d,this.init()}function c(b){var c=b.data,d=a(b.target),e=d.closest("."+c.settings.panelClass);c.toggle(e)}var d="iptAccordion",e="accordion",f={animationSpeed:500,singleOpen:!0,baseClass:e,initializedClass:e+"--initialized",panelClass:e+"__panel",panelActiveClass:e+"__panel--active",triggerClass:e+"__trigger",triggerActiveClass:e+"__trigger--active",contentClass:e+"__content",contentActiveClass:e+"__content--active"};b.prototype={init:function(){this.$panels=this.$element.children("."+this.settings.panelClass);var a=this.$panels.filter("."+this.settings.panelActiveClass);this.settings.singleOpen&&(a=a.first()),a.children("."+this.settings.contentClass).show(),this.addActiveClasses(a);var b=this.$panels.not(a);b.children("."+this.settings.contentClass).hide(),this.removeActiveClasses(b),this.addEventListeners(),this.$element.addClass(this.settings.initializedClass)},toggle:function(b){var c=a(b),d=c.children("."+this.settings.triggerClass),e=c.children("."+this.settings.contentClass);if(this.settings.singleOpen){var f=this.$panels.not(c);f.children("."+this.settings.contentClass).slideUp(this.settings.animationSpeed),this.removeActiveClasses(f)}c.toggleClass(this.settings.panelActiveClass),d.toggleClass(this.settings.triggerActiveClass),e.toggleClass(this.settings.contentActiveClass),e.slideToggle(this.settings.animationSpeed)},addActiveClasses:function(a){a.addClass(this.settings.panelActiveClass).children("."+this.settings.triggerClass).addClass(this.settings.triggerActiveClass),a.children("."+this.settings.contentClass).addClass(this.settings.contentActiveClass)},removeActiveClasses:function(a){a.removeClass(this.settings.panelActiveClass).children("."+this.settings.triggerClass).removeClass(this.settings.triggerActiveClass),a.children("."+this.settings.contentClass).removeClass(this.settings.contentActiveClass)},addEventListeners:function(){this.$panels.children("."+this.settings.triggerClass).on("click."+this._name,null,this,c)},destroy:function(){this.$panels.children("."+this.settings.triggerClass).off("click."+this._name),this.$panels.children("."+this.settings.contentClass).show(),this.$element.removeData()}},a.fn[d]=function(c){return this.each(function(){a.data(this,"plugin_"+d)||a.data(this,"plugin_"+d,new b(this,c))})}}(jQuery);