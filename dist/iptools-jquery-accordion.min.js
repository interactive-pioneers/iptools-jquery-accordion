/*! iptools-jquery-accordion - v0.1.0 - 2015-12-11
* https://github.com/interactive-pioneers/iptools-jquery-accordion
* Copyright Â© 2015 Interactive Pioneers GmbH; Licensed GPL */
!function(a){"use strict";function b(b,d){this.$element=a(b),this.settings=a.extend({},e,d),this._defaults=e,this._name=c,this.init()}var c="iptAccordion",d="accordion",e={animationSpeed:500,singleOpen:!0,baseClass:d,initializedClass:d+"--initialized",panelClass:d+"__panel",panelActiveClass:d+"__panel--active",triggerClass:d+"__trigger",triggerActiveClass:d+"__trigger--active",contentClass:d+"__content",contentActiveClass:d+"__content--active"};b.prototype={init:function(){this.$panels=this.$element.children("."+this.settings.panelClass);var a=this.$panels.filter("."+this.settings.panelActiveClass);this.settings.singleOpen&&(a=a.first()),a.children("."+this.settings.contentClass).show(),this.addActiveClasses(a);var b=this.$panels.not(a);b.children("."+this.settings.contentClass).hide(),this.removeActiveClasses(b),this.addEventListeners(),this.$element.addClass(this.settings.initializedClass)},toggle:function(b){var c=b.data,d=a(b.target),e=d.closest("."+c.settings.panelClass),f=e.children("."+c.settings.triggerClass),g=e.children("."+c.settings.contentClass);if(c.settings.singleOpen){var h=c.$panels.not(e);h.children("."+c.settings.contentClass).slideUp(c.settings.animationSpeed),c.removeActiveClasses(h)}e.toggleClass(c.settings.panelActiveClass),f.toggleClass(c.settings.triggerActiveClass),g.toggleClass(c.settings.contentActiveClass),g.slideToggle(c.settings.animationSpeed)},addActiveClasses:function(a){a.addClass(this.settings.panelActiveClass).children("."+this.settings.triggerClass).addClass(this.settings.triggerActiveClass),a.children("."+this.settings.contentClass).addClass(this.settings.contentActiveClass)},removeActiveClasses:function(a){a.removeClass(this.settings.panelActiveClass).children("."+this.settings.triggerClass).removeClass(this.settings.triggerActiveClass),a.children("."+this.settings.contentClass).removeClass(this.settings.contentActiveClass)},addEventListeners:function(){this.$panels.children("."+this.settings.triggerClass).on("click."+this._name,null,this,this.toggle)},destroy:function(){this.$panels.children("."+this.settings.triggerClass).off("click."+this._name),this.$panels.children("."+this.settings.contentClass).show(),this.$element.removeData()}},a.fn[c]=function(d){return this.each(function(){a.data(this,"plugin_"+c)||a.data(this,"plugin_"+c,new b(this,d))})}}(jQuery);