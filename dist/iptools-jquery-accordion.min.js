/*! iptools-jquery-accordion - v0.3.1 - 2016-03-18
* https://github.com/interactive-pioneers/iptools-jquery-accordion
* Copyright Â© 2016 Interactive Pioneers GmbH; Licensed GPL-3.0 */
!function(a){"use strict";function b(b,c){this.$element=a(b),this.settings=a.extend({},k,c),this._defaults=k,this._name=i,this.init()}function c(a){return"."+a}function d(a){return a+"."+i}function e(b){var c=b.data,d=a(b.target),e=d.closest("."+c.settings.panelClass);c.toggle(e)}function f(b){b.data.open(a(b.target))}function g(b){b.data.close(a(b.target))}function h(a){a.data.toggle(a.target)}var i="iptAccordion",j="accordion",k={animationSpeed:500,singleOpen:!0,baseClass:j,initializedClass:j+"--initialized",panelClass:j+"__panel",panelActiveClass:j+"__panel--active",triggerClass:j+"__trigger",triggerActiveClass:j+"__trigger--active",contentClass:j+"__content",contentActiveClass:j+"__content--active"};b.prototype={init:function(){this.$panels=this.$element.children(c(this.settings.panelClass));var a=this.$panels.filter(c(this.settings.panelActiveClass)).add(this.$panels.filter('[data-accordion-panel-activated="true"]'));this.settings.singleOpen&&(a=a.first()),a.children(c(this.settings.contentClass)).show(),this.addActiveClasses(a);var b=this.$panels.not(a);b.children(c(this.settings.contentClass)).hide(),this.removeActiveClasses(b),this.addEventListeners(),this.$element.addClass(this.settings.initializedClass).trigger(d("initialized"))},toggle:function(b){var c=a(b);1===c.length&&c.hasClass(this.settings.panelActiveClass)?this.close(c):this.open(c)},open:function(a){a.length>0&&(this.settings.singleOpen&&(a=a.first()),a.trigger(d("beforeOpen")).children("."+this.settings.contentClass).stop().slideDown(this.settings.animationSpeed,function(){a.trigger(d("afterOpen"))}),this.addActiveClasses(a),this.settings.singleOpen&&this.$panels.not(a).filter(c(this.settings.panelActiveClass)).trigger(d("close")))},close:function(a){a.length>0&&(a.trigger(d("beforeClose")).children("."+this.settings.contentClass).stop().slideUp(this.settings.animationSpeed,function(){a.trigger(d("afterClose"))}),this.removeActiveClasses(a))},addActiveClasses:function(a){a.addClass(this.settings.panelActiveClass).children(c(this.settings.triggerClass)).addClass(this.settings.triggerActiveClass),a.children(c(this.settings.contentClass)).addClass(this.settings.contentActiveClass)},removeActiveClasses:function(a){a.removeClass(this.settings.panelActiveClass).children(c(this.settings.triggerClass)).removeClass(this.settings.triggerActiveClass),a.children(c(this.settings.contentClass)).removeClass(this.settings.contentActiveClass)},addEventListeners:function(){this.$panels.children(c(this.settings.triggerClass)).on(d("click"),null,this,e),this.$panels.on(d("open"),null,this,f).on(d("close"),null,this,g).on(d("toggle"),null,this,h)},destroy:function(){this.$panels.children("."+this.settings.triggerClass).off(d("click")).off(d("open")).off(d("close")).off(d("toggle")),this.$panels.children("."+this.settings.contentClass).show(),this.$element.removeData("plugin_"+i)}},a.fn[i]=function(c){return this.each(function(){a.data(this,"plugin_"+i)||a.data(this,"plugin_"+i,new b(this,c))})}}(jQuery);