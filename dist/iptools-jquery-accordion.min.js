/*! iptools-jquery-accordion - v0.2.0 - 2016-02-23
* https://github.com/interactive-pioneers/iptools-jquery-accordion
* Copyright Â© 2016 Interactive Pioneers GmbH; Licensed GPL */
!function(a){"use strict";function b(b,c){this.$element=a(b),this.settings=a.extend({},k,c),this._defaults=k,this._name=i,this.init()}function c(b){var c=b.data,d=a(b.target),e=d.closest("."+c.settings.panelClass);c.toggle(e)}function d(b){b.data.open(a(b.target))}function e(b){b.data.close(a(b.target))}function f(a){a.data.close(a.target)}function g(a){return"."+a}function h(a){return a+"."+i}var i="iptAccordion",j="accordion",k={animationSpeed:500,singleOpen:!0,baseClass:j,initializedClass:j+"--initialized",panelClass:j+"__panel",panelActiveClass:j+"__panel--active",triggerClass:j+"__trigger",triggerActiveClass:j+"__trigger--active",contentClass:j+"__content",contentActiveClass:j+"__content--active"};b.prototype={init:function(){this.$panels=this.$element.children(g(this.settings.panelClass));var a=this.$panels.filter(g(this.settings.panelActiveClass));this.settings.singleOpen&&(a=a.first()),a.children(g(this.settings.contentClass)).show(),this.addActiveClasses(a);var b=this.$panels.not(a);b.children(g(this.settings.contentClass)).hide(),this.removeActiveClasses(b),this.addEventListeners(),this.$element.addClass(this.settings.initializedClass).trigger(h("initialized"))},toggle:function(b){var c=a(b);1===c.length&&c.hasClass(this.settings.panelActiveClass)?this.close(c):this.open(c)},open:function(a){a.length>0&&(this.settings.singleOpen&&(a=a.first()),a.trigger(h("beforeOpen")).children("."+this.settings.contentClass).slideDown(this.settings.animationSpeed,function(){a.trigger(h("afterOpen"))}),this.addActiveClasses(a),this.settings.singleOpen&&this.$panels.not(a).filter(g(this.settings.panelActiveClass)).trigger(h("close")))},close:function(a){a.length>0&&(a.trigger(h("beforeClose")).children("."+this.settings.contentClass).slideUp(this.settings.animationSpeed,function(){a.trigger(h("afterClose"))}),this.removeActiveClasses(a))},addActiveClasses:function(a){a.addClass(this.settings.panelActiveClass).children(g(this.settings.triggerClass)).addClass(this.settings.triggerActiveClass),a.children(g(this.settings.contentClass)).addClass(this.settings.contentActiveClass)},removeActiveClasses:function(a){a.removeClass(this.settings.panelActiveClass).children(g(this.settings.triggerClass)).removeClass(this.settings.triggerActiveClass),a.children(g(this.settings.contentClass)).removeClass(this.settings.contentActiveClass)},addEventListeners:function(){this.$panels.children(g(this.settings.triggerClass)).on(h("click"),null,this,c),this.$panels.on(h("open"),null,this,d).on(h("close"),null,this,e).on(h("toggle"),null,this,f)},destroy:function(){this.$panels.children("."+this.settings.triggerClass).off(h("click")).off(h("open")).off(h("close")).off(h("toggle")),this.$panels.children("."+this.settings.contentClass).show(),this.$element.removeData("plugin_"+i)}},a.fn[i]=function(c){return this.each(function(){a.data(this,"plugin_"+i)||a.data(this,"plugin_"+i,new b(this,c))})}}(jQuery);